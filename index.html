<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Bubbe's Birthday Adventure</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>

<div class="container">
    <div class="intro">
        <p>Welcome to Bubbe's Birthday Adventure!</p>
        <p>Your special recipe book has gone missing!</p>
        <p>Navigate through your memories to find it.</p>
        <p>But be careful, there might be surprises along the way!</p>
    </div>

    <div class="content" id="gameContent">
        <p>You are walking and it is 5 in the morning.</p>
        <p>As you walk, you notice newspapers scattered on the sidewalk.</p>
        <p>You decide to help and bring the newspapers inside.</p>
        <br>
    </div>

    <form id="gameForm">
        <label for="doorChoice">Which door do you choose? You can only visit each room once. M for Memories / B for Bedroom / K for Kitchen:</label><br>
        <input type="text" id="doorChoice" name="doorChoice"><br>
        <input type="submit" value="Submit">
    </form>
</div>

<script>
    var visitedRooms = [];

    function handleFormSubmit(evt) {
        evt.preventDefault();
        var choice = document.getElementById("doorChoice").value.toLowerCase();
        if (choice === "m" && !visitedRooms.includes("memories")) {
            displayRoom(memories());
            visitedRooms.push("memories");
        } else if (choice === "b" && !visitedRooms.includes("bedroom")) {
            displayRoom(bedroom());
            visitedRooms.push("bedroom");
        } else if (choice === "k" && !visitedRooms.includes("kitchen")) {
            displayRoom(kitchen());
            visitedRooms.push("kitchen");
        } else {
            alert("Invalid choice or room already visited. Please try again.");
        }
        document.getElementById("gameForm").reset();
        if (visitedRooms.length === 3) {
            ending();
        }
    }

    function displayRoom(roomContent) {
        var gameContent = document.getElementById("gameContent");
        gameContent.innerHTML = roomContent; // Update to overwrite existing content
    }

    function kitchen() {
        return "<p>You are in the kitchen.</p>" +
            "<p>You smell something delicious...</p>" +
            "<p>Your famous banana egg waffles with tons of chocolate chips!</p>" +
            "<p>But the recipe book is nowhere to be found.</p>" +
            "<p>You decide to enjoy a meal while you continue my search.</p>";
    }

    function bedroom() {
        return "<p>You are in the bedroom.</p>" +
            "<p>This room is filled with warmth and memories.</p>" +
            "<p>You see a photo album on the nightstand.</p>" +
            "<p>You flip through the pages and find pictures of your trips to Boston.</p>" +
            "<p>You feel some nostalgia.</p><br>";
    }

    function memories() {
        return "<p>You are in the memories room.</p>" +
            "<p>This room is filled with books and mementos.</p>" +
            "<p>You spot a worn-out copy of 'The Little Prince' on the shelf.</p>" +
            "<p>But still no sign of the recipe book...</p><br><br><br>";
    }

    function ending() {
        var gameContent = document.getElementById("gameContent");
        gameContent.innerHTML += "<br><br><br><p>Suddenly, you hear a familiar jingle at the door.</p>" +
            "<p>It's Charlie, wagging her tail happily!</p>" +
            "<p>She's brought the missing recipe book in her mouth!</p>" +
            "<p>You can't help but smile as you thank her for finding it.</p>" +
            "<p>With the recipe book in hand, you feel a sense of relief.</p>" +
            "<p>Happy birthday Bubbe!</p>"; // Added extra line break
    }

    document.getElementById("gameForm").addEventListener("submit", handleFormSubmit);
</script>

</body>
</html>
